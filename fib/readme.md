
# Fibコアシミュレータver1.10α
## 使用方法
makeコマンドでmainファイルを作成し、「`./main fib.s`」のように実行ファイルを入力としてください。
その後、以下のコマンドを実行してアセンブリの挙動を確かめられます。
- `a`   ... (all) 全実行
- `nb`  ... (next break) 次のブレークポイントまで実行
- `n`   ... (next) 次の命令のみを実行
- `bs [lineN]` ... (break set) `[lineN]`行目にブレークポイントを追加
- `bl`  ... (break list) ブレークポイントのリストを表示
- `rr`  ... (register read) レジスタ一覧を表示 (進法指定などは後々)

以下追加予定
- `bd [lineN]` ... (break delete) `[lineN]`行目のブレークポイントを削除
- `rw`  ... (register write) レジスタ書き込み
- `b`   ... 1命令もとに戻す（使用回数制限あり）

## 注意
- g++, makeを実行できる環境が必要です。（aptなどでインストールしてください。）
- intが4バイトであることを暗黙に用いているので注意してください

## アセンブリの仕様
- ラベル名に使用可能なのはa-Z, 0-9, 記号は_のみ。大文字小文字区別する。
    - 同一ラベルがあった場合、パース時にエラーを吐く
- ラベル名の後ろにはコロンをつける
    - ラベルとコロンの間に空白文字が合ってもよいが、ラベル登録時に空白文字は消す
- 行が空白文字（タブ、半角空白）から始まる場合は命令とみなす
    - インデントの数は自由
- オペコードは小文字のみ
    - 現在対応しているのはadd, addi, nop, beq, blt, jの６つ
- レジスタはx0(zero), x1~x31, pcの32+1個
- シャープの後ろはコメント

## その他留意点
- ALUのオーバーフローは処理しない（RISC-Vの仕様？）

## todo


## バージョン履歴
- 1.00 ... とりあえずファイルを読み込んでの実行を可能に
- 1.10 ... バグ修正、一部の対話実行機能を追加

